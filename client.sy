use game

start :: fn {
    game.bind_keys'

    n_rpc_connect' "127.0.0.1"
    n_rpc_server' game.player_join

    loop len(game.players) == 0 && !l_input_down("quit") {
        n_rpc_resolve'

        l_update'
        l_render'
    }

    game.init'

    loop !l_input_down("quit") {
        n_rpc_resolve'

        l_update'
        l_render'

        input := game.poll_input'
        n_rpc_server' game.process_input, input

        game.update' l_delta'
        game.draw'
    }
}
